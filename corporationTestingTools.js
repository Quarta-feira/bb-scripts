import { cities } from "/corporationUtils";
import { EmployeePosition, MaterialName, UpgradeName } from "/corporationFormulas";
import { getRecordEntries } from "/libs/Record";
import { CorpUpgradesData } from "/data/CorpUpgradesData";
import { CorpMaterialsData } from "./data/CorpMaterialsData";
const indexDBObjectStore = "savestring";
async function getObjectStore() {
  return new Promise((resolve, reject) => {
    const request = window.indexedDB.open("bitburnerSave", 1);
    request.onerror = () => {
      console.error("Error occurred when interacting with IndexDB. Result:", request.result);
      reject("Error occurred when interacting with IndexDB");
    };
    request.onsuccess = function() {
      const db = this.result;
      const objectStore = db.transaction([indexDBObjectStore], "readwrite").objectStore(indexDBObjectStore);
      resolve(objectStore);
    };
  });
}
async function getAllSaveDataKeys() {
  return new Promise((resolve) => {
    getObjectStore().then((objectStore) => {
      const requestGetAllKeys = objectStore.getAllKeys();
      requestGetAllKeys.onsuccess = () => resolve(requestGetAllKeys.result);
    });
  });
}
async function getSaveData(key) {
  return new Promise((resolve) => {
    getObjectStore().then((objectStore) => {
      const requestGet = objectStore.get(key);
      requestGet.onsuccess = () => resolve(requestGet.result);
    });
  });
}
async function insertSaveData(saveData) {
  return new Promise((resolve) => {
    getObjectStore().then((objectStore) => {
      const requestPut = objectStore.put(saveData, (/* @__PURE__ */ new Date()).toISOString());
      requestPut.onsuccess = () => resolve();
    });
  });
}
async function updateSaveData(key, saveData) {
  return new Promise((resolve) => {
    getObjectStore().then((objectStore) => {
      const requestPut = objectStore.put(saveData, key);
      requestPut.onsuccess = () => resolve();
    });
  });
}
async function deleteSaveData(key) {
  return new Promise((resolve) => {
    getObjectStore().then((objectStore) => {
      const requestDelete = objectStore.delete(key);
      requestDelete.onsuccess = () => resolve();
    });
  });
}
function isTestingToolsAvailable() {
  return globalThis.Player !== void 0;
}
function setUnlimitedBonusTime() {
  if (!isTestingToolsAvailable()) {
    return;
  }
  Player.corporation.storedCycles = 1e9;
}
function removeBonusTime() {
  if (!isTestingToolsAvailable()) {
    return;
  }
  Player.corporation.storedCycles = 0;
}
function setFunds(funds) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  Player.corporation.funds = funds;
}
function setUpgradeLevel(upgradeName, level) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  const corpUpgrades = getRecordEntries(Player.corporation.upgrades);
  for (const [corpUpgradeName, corpUpgradeInfo] of corpUpgrades) {
    if (corpUpgradeName === upgradeName) {
      const upgradeData = CorpUpgradesData[corpUpgradeName];
      corpUpgradeInfo.level = level;
      corpUpgradeInfo.value = 1 + upgradeData.benefit * level;
    }
    if (corpUpgradeName === UpgradeName.SMART_STORAGE) {
      for (const division of Player.corporation.divisions.values()) {
        const warehouses = Object.values(division.warehouses);
        for (const warehouse of warehouses) {
          warehouse.updateSize(Player.corporation, division);
        }
      }
    }
  }
}
function setResearchPoints(divisionName, researchPoints) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  Player.corporation.divisions.get(divisionName).researchPoints = researchPoints;
}
function setOfficeSetup(divisionName, employeeJobs) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  const size = employeeJobs.reduce((accumulator, current) => accumulator += current, 0);
  const offices = Object.values(Player.corporation.divisions.get(divisionName).offices);
  for (const office of offices) {
    office.size = size;
    office.numEmployees = size;
    office.employeeNextJobs[EmployeePosition.OPERATIONS] = employeeJobs[0];
    office.employeeNextJobs[EmployeePosition.ENGINEER] = employeeJobs[1];
    office.employeeNextJobs[EmployeePosition.BUSINESS] = employeeJobs[2];
    office.employeeNextJobs[EmployeePosition.MANAGEMENT] = employeeJobs[3];
    office.employeeNextJobs[EmployeePosition.RESEARCH_DEVELOPMENT] = employeeJobs[4];
    office.employeeNextJobs[EmployeePosition.INTERN] = 0;
    office.employeeNextJobs[EmployeePosition.UNASSIGNED] = 0;
  }
}
function setWarehouseLevel(divisionName, level) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  const division = Player.corporation.divisions.get(divisionName);
  const warehouses = Object.values(division.warehouses);
  for (const warehouse of warehouses) {
    warehouse.level = level;
    warehouse.updateSize(Player.corporation, division);
  }
}
function setBoostMaterials(divisionName, boostMaterials) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  const warehouses = Object.values(Player.corporation.divisions.get(divisionName).warehouses);
  for (const warehouse of warehouses) {
    const materials = Object.values(warehouse.materials);
    for (const material of materials) {
      switch (material.name) {
        case MaterialName.AI_CORES:
          material.stored = boostMaterials[0];
          break;
        case MaterialName.HARDWARE:
          material.stored = boostMaterials[1];
          break;
        case MaterialName.REAL_ESTATE:
          material.stored = boostMaterials[2];
          break;
        case MaterialName.ROBOTS:
          material.stored = boostMaterials[3];
          break;
      }
    }
  }
}
function clearMaterials(divisionName, options) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  const division = Player.corporation.divisions.get(divisionName);
  const requiredMaterials = Object.keys(division.requiredMaterials);
  const producedMaterials = division.producedMaterials;
  const warehouses = Object.values(division.warehouses);
  for (const warehouse of warehouses) {
    const materials = Object.values(warehouse.materials);
    for (const material of materials) {
      if (options.input && requiredMaterials.includes(material.name) || options.output && producedMaterials.includes(material.name)) {
        material.stored = 0;
      }
    }
  }
}
function setEnergyAndMorale(divisionName, energy, morale) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  for (const city of cities) {
    Player.corporation.divisions.get(divisionName).offices[city].avgEnergy = energy;
    Player.corporation.divisions.get(divisionName).offices[city].avgMorale = morale;
  }
}
function addResearch(divisionName, researchName) {
  if (!isTestingToolsAvailable()) {
    return;
  }
  Player.corporation.divisions.get(divisionName).researched.add(researchName);
}
function resetRNGData() {
  if (!isTestingToolsAvailable()) {
    return;
  }
  for (const [_, division] of Player.corporation.divisions) {
    for (const [_2, office] of Object.entries(division.offices)) {
      office.avgIntelligence = 75;
      office.avgCharisma = 75;
      office.avgCreativity = 75;
      office.avgEfficiency = 75;
    }
    for (const [_2, warehouse] of Object.entries(division.warehouses)) {
      for (const [_3, material] of Object.entries(warehouse.materials)) {
        material.demand = CorpMaterialsData[material.name].demandBase;
        material.competition = CorpMaterialsData[material.name].competitionBase;
        material.marketPrice = CorpMaterialsData[material.name].baseCost;
        material.averagePrice = CorpMaterialsData[material.name].baseCost;
      }
    }
  }
}
export {
  addResearch,
  clearMaterials,
  deleteSaveData,
  getAllSaveDataKeys,
  getObjectStore,
  getSaveData,
  insertSaveData,
  isTestingToolsAvailable,
  removeBonusTime,
  resetRNGData,
  setBoostMaterials,
  setEnergyAndMorale,
  setFunds,
  setOfficeSetup,
  setResearchPoints,
  setUnlimitedBonusTime,
  setUpgradeLevel,
  setWarehouseLevel,
  updateSaveData
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2NvcnBvcmF0aW9uVGVzdGluZ1Rvb2xzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBjaXRpZXMgfSBmcm9tIFwiL2NvcnBvcmF0aW9uVXRpbHNcIjtcbmltcG9ydCB7IENpdHlOYW1lLCBFbXBsb3llZVBvc2l0aW9uLCBNYXRlcmlhbE5hbWUsIFJlc2VhcmNoTmFtZSwgVXBncmFkZU5hbWUgfSBmcm9tIFwiL2NvcnBvcmF0aW9uRm9ybXVsYXNcIjtcbmltcG9ydCB7IGdldFJlY29yZEVudHJpZXMsIFBhcnRpYWxSZWNvcmQgfSBmcm9tIFwiL2xpYnMvUmVjb3JkXCI7XG5pbXBvcnQgeyBDb3JwVXBncmFkZXNEYXRhIH0gZnJvbSBcIi9kYXRhL0NvcnBVcGdyYWRlc0RhdGFcIjtcbmltcG9ydCB7IENvcnBNYXRlcmlhbHNEYXRhIH0gZnJvbSBcIi4vZGF0YS9Db3JwTWF0ZXJpYWxzRGF0YVwiO1xuXG50eXBlIFNhdmVEYXRhID0gc3RyaW5nIHwgVWludDhBcnJheTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgICB2YXIgUGxheWVyOiB7XG4gICAgICAgIG1vbmV5OiBudW1iZXI7XG4gICAgICAgIGNvcnBvcmF0aW9uOiBDb3Jwb3JhdGlvbiB8IG51bGw7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gICAgdmFyIEVuZ2luZToge1xuICAgICAgICB1cGRhdGVHYW1lOiAobnVtQ3ljbGVzPzogbnVtYmVyKSA9PiB2b2lkO1xuICAgICAgICBsb2FkOiAoc2F2ZURhdGE6IFNhdmVEYXRhKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgICAgICBzdGFydDogKCkgPT4gdm9pZDtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgICB2YXIgU2F2ZU9iamVjdDoge1xuICAgICAgICBzYXZlT2JqZWN0OiB7XG4gICAgICAgICAgICBnZXRTYXZlRGF0YTogKGZvcmNlRXhjbHVkZVJ1bm5pbmdTY3JpcHRzOiBib29sZWFuLCBmb3JjZUV4Y2x1ZGVTY3JpcHRzOiBib29sZWFuKSA9PiBQcm9taXNlPFNhdmVEYXRhPjtcbiAgICAgICAgfTtcbiAgICAgICAgbG9hZEdhbWU6IChzYXZlRGF0YTogU2F2ZURhdGEpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gICAgdmFyIEFsbFNlcnZlcnM6IHtcbiAgICAgICAgbG9hZEFsbFNlcnZlcnM6IChzYXZlU3RyaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICAgIHNhdmVBbGxTZXJ2ZXJzOiAoKSA9PiBzdHJpbmc7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gICAgdmFyIGNvcnBvcmF0aW9uQ3ljbGVIaXN0b3J5OiBDeWNsZURhdGFbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gICAgdmFyIGJhY2t1cENvcnBvcmF0aW9uRGF0YTogQ29ycG9yYXRpb24gfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgQ3ljbGVEYXRhIHtcbiAgICBjeWNsZTogbnVtYmVyO1xuICAgIGRpdmlzaW9uczogQ29ycG9yYXRpb25bXCJkaXZpc2lvbnNcIl07XG4gICAgZnVuZHM6IENvcnBvcmF0aW9uW1wiZnVuZHNcIl07XG4gICAgcmV2ZW51ZTogQ29ycG9yYXRpb25bXCJyZXZlbnVlXCJdO1xuICAgIGV4cGVuc2VzOiBDb3Jwb3JhdGlvbltcImV4cGVuc2VzXCJdO1xuICAgIGZ1bmRpbmdSb3VuZDogQ29ycG9yYXRpb25bXCJmdW5kaW5nUm91bmRcIl07XG4gICAgdXBncmFkZXM6IENvcnBvcmF0aW9uW1widXBncmFkZXNcIl07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2ZmaWNlIHtcbiAgICBzaXplOiBudW1iZXI7XG4gICAgYXZnRW5lcmd5OiBudW1iZXI7XG4gICAgYXZnTW9yYWxlOiBudW1iZXI7XG4gICAgYXZnSW50ZWxsaWdlbmNlOiBudW1iZXI7XG4gICAgYXZnQ2hhcmlzbWE6IG51bWJlcjtcbiAgICBhdmdDcmVhdGl2aXR5OiBudW1iZXI7XG4gICAgYXZnRWZmaWNpZW5jeTogbnVtYmVyO1xuICAgIG51bUVtcGxveWVlczogbnVtYmVyO1xuICAgIGVtcGxveWVlTmV4dEpvYnM6IHtcbiAgICAgICAgT3BlcmF0aW9uczogbnVtYmVyLFxuICAgICAgICBFbmdpbmVlcjogbnVtYmVyLFxuICAgICAgICBCdXNpbmVzczogbnVtYmVyLFxuICAgICAgICBNYW5hZ2VtZW50OiBudW1iZXIsXG4gICAgICAgIFwiUmVzZWFyY2ggJiBEZXZlbG9wbWVudFwiOiBudW1iZXIsXG4gICAgICAgIEludGVybjogbnVtYmVyLFxuICAgICAgICBVbmFzc2lnbmVkOiBudW1iZXIsXG4gICAgICAgIHRvdGFsOiBudW1iZXI7XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXRlcmlhbCB7XG4gICAgbmFtZTogTWF0ZXJpYWxOYW1lO1xuICAgIHN0b3JlZDogbnVtYmVyO1xuICAgIGRlbWFuZDogbnVtYmVyO1xuICAgIGNvbXBldGl0aW9uOiBudW1iZXI7XG4gICAgbWFya2V0UHJpY2U6IG51bWJlcjtcbiAgICBhdmVyYWdlUHJpY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXYXJlaG91c2Uge1xuICAgIG1hdGVyaWFsczogUmVjb3JkPE1hdGVyaWFsTmFtZSwgTWF0ZXJpYWw+O1xuICAgIGxldmVsOiBudW1iZXI7XG4gICAgdXBkYXRlU2l6ZTogKGNvcnBvcmF0aW9uOiBDb3Jwb3JhdGlvbiwgZGl2aXNpb246IERpdmlzaW9uKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpdmlzaW9uIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcmVzZWFyY2hQb2ludHM6IG51bWJlcjtcbiAgICByZXNlYXJjaGVkOiBTZXQ8UmVzZWFyY2hOYW1lPjtcbiAgICByZXF1aXJlZE1hdGVyaWFsczogUGFydGlhbFJlY29yZDxNYXRlcmlhbE5hbWUsIG51bWJlcj47XG4gICAgcHJvZHVjZWRNYXRlcmlhbHM6IE1hdGVyaWFsTmFtZVtdO1xuICAgIG9mZmljZXM6IFBhcnRpYWxSZWNvcmQ8Q2l0eU5hbWUsIE9mZmljZT47XG4gICAgd2FyZWhvdXNlczogUGFydGlhbFJlY29yZDxDaXR5TmFtZSwgV2FyZWhvdXNlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3Jwb3JhdGlvbiBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIGZ1bmRzOiBudW1iZXI7XG4gICAgcmV2ZW51ZTogbnVtYmVyO1xuICAgIGV4cGVuc2VzOiBudW1iZXI7XG4gICAgZnVuZGluZ1JvdW5kOiBudW1iZXI7XG4gICAgc3RvcmVkQ3ljbGVzOiBudW1iZXI7XG4gICAgZGl2aXNpb25zOiBNYXA8c3RyaW5nLCBEaXZpc2lvbj47XG4gICAgdXBncmFkZXM6IFJlY29yZDxVcGdyYWRlTmFtZSwgeyBsZXZlbDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyOyB9PjtcbiAgICB2YWx1YXRpb246IG51bWJlcjtcbiAgICBjeWNsZUNvdW50OiBudW1iZXI7XG59XG5cbmNvbnN0IGluZGV4REJPYmplY3RTdG9yZSA9IFwic2F2ZXN0cmluZ1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T2JqZWN0U3RvcmUoKTogUHJvbWlzZTxJREJPYmplY3RTdG9yZT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4oXCJiaXRidXJuZXJTYXZlXCIsIDEpO1xuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igb2NjdXJyZWQgd2hlbiBpbnRlcmFjdGluZyB3aXRoIEluZGV4REIuIFJlc3VsdDpcIiwgcmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAgICAgcmVqZWN0KFwiRXJyb3Igb2NjdXJyZWQgd2hlbiBpbnRlcmFjdGluZyB3aXRoIEluZGV4REJcIik7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKHRoaXM6IElEQlJlcXVlc3Q8SURCRGF0YWJhc2U+KSB7XG4gICAgICAgICAgICBjb25zdCBkYiA9IHRoaXMucmVzdWx0O1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSBkYi50cmFuc2FjdGlvbihbaW5kZXhEQk9iamVjdFN0b3JlXSwgXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoaW5kZXhEQk9iamVjdFN0b3JlKTtcbiAgICAgICAgICAgIHJlc29sdmUob2JqZWN0U3RvcmUpO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsU2F2ZURhdGFLZXlzKCk6IFByb21pc2U8SURCVmFsaWRLZXlbXT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBnZXRPYmplY3RTdG9yZSgpLnRoZW4ob2JqZWN0U3RvcmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEdldEFsbEtleXMgPSBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKCk7XG4gICAgICAgICAgICByZXF1ZXN0R2V0QWxsS2V5cy5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3RHZXRBbGxLZXlzLnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2F2ZURhdGEoa2V5OiBzdHJpbmcpOiBQcm9taXNlPFNhdmVEYXRhPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGdldE9iamVjdFN0b3JlKCkudGhlbihvYmplY3RTdG9yZSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0R2V0ID0gb2JqZWN0U3RvcmUuZ2V0KGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0R2V0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdEdldC5yZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydFNhdmVEYXRhKHNhdmVEYXRhOiBTYXZlRGF0YSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBnZXRPYmplY3RTdG9yZSgpLnRoZW4ob2JqZWN0U3RvcmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdFB1dCA9IG9iamVjdFN0b3JlLnB1dChzYXZlRGF0YSwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgIHJlcXVlc3RQdXQub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNhdmVEYXRhKGtleTogc3RyaW5nLCBzYXZlRGF0YTogU2F2ZURhdGEpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgZ2V0T2JqZWN0U3RvcmUoKS50aGVuKG9iamVjdFN0b3JlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RQdXQgPSBvYmplY3RTdG9yZS5wdXQoc2F2ZURhdGEsIGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0UHV0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTYXZlRGF0YShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBnZXRPYmplY3RTdG9yZSgpLnRoZW4ob2JqZWN0U3RvcmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdERlbGV0ZSA9IG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgcmVxdWVzdERlbGV0ZS5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuUGxheWVyICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRVbmxpbWl0ZWRCb251c1RpbWUoKTogdm9pZCB7XG4gICAgaWYgKCFpc1Rlc3RpbmdUb29sc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUGxheWVyLmNvcnBvcmF0aW9uIS5zdG9yZWRDeWNsZXMgPSAxZTk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCb251c1RpbWUoKTogdm9pZCB7XG4gICAgaWYgKCFpc1Rlc3RpbmdUb29sc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUGxheWVyLmNvcnBvcmF0aW9uIS5zdG9yZWRDeWNsZXMgPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RnVuZHMoZnVuZHM6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFBsYXllci5jb3Jwb3JhdGlvbiEuZnVuZHMgPSBmdW5kcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFVwZ3JhZGVMZXZlbCh1cGdyYWRlTmFtZTogVXBncmFkZU5hbWUsIGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIWlzVGVzdGluZ1Rvb2xzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb3JwVXBncmFkZXMgPSBnZXRSZWNvcmRFbnRyaWVzKFBsYXllci5jb3Jwb3JhdGlvbiEudXBncmFkZXMpO1xuICAgIGZvciAoY29uc3QgW2NvcnBVcGdyYWRlTmFtZSwgY29ycFVwZ3JhZGVJbmZvXSBvZiBjb3JwVXBncmFkZXMpIHtcbiAgICAgICAgaWYgKGNvcnBVcGdyYWRlTmFtZSA9PT0gdXBncmFkZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZ3JhZGVEYXRhID0gQ29ycFVwZ3JhZGVzRGF0YVtjb3JwVXBncmFkZU5hbWVdO1xuICAgICAgICAgICAgY29ycFVwZ3JhZGVJbmZvLmxldmVsID0gbGV2ZWw7XG4gICAgICAgICAgICBjb3JwVXBncmFkZUluZm8udmFsdWUgPSAxICsgdXBncmFkZURhdGEuYmVuZWZpdCAqIGxldmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvcnBVcGdyYWRlTmFtZSA9PT0gVXBncmFkZU5hbWUuU01BUlRfU1RPUkFHRSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBkaXZpc2lvbiBvZiBQbGF5ZXIuY29ycG9yYXRpb24hLmRpdmlzaW9ucy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhcmVob3VzZXMgPSBPYmplY3QudmFsdWVzKGRpdmlzaW9uLndhcmVob3VzZXMpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgd2FyZWhvdXNlIG9mIHdhcmVob3VzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FyZWhvdXNlLnVwZGF0ZVNpemUoUGxheWVyLmNvcnBvcmF0aW9uISwgZGl2aXNpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFJlc2VhcmNoUG9pbnRzKGRpdmlzaW9uTmFtZTogc3RyaW5nLCByZXNlYXJjaFBvaW50czogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFpc1Rlc3RpbmdUb29sc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUGxheWVyLmNvcnBvcmF0aW9uIS5kaXZpc2lvbnMuZ2V0KGRpdmlzaW9uTmFtZSkhLnJlc2VhcmNoUG9pbnRzID0gcmVzZWFyY2hQb2ludHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPZmZpY2VTZXR1cChkaXZpc2lvbk5hbWU6IHN0cmluZywgZW1wbG95ZWVKb2JzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGlmICghaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNpemUgPSBlbXBsb3llZUpvYnMucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudCkgPT4gYWNjdW11bGF0b3IgKz0gY3VycmVudCwgMCk7XG4gICAgY29uc3Qgb2ZmaWNlcyA9IE9iamVjdC52YWx1ZXMoUGxheWVyLmNvcnBvcmF0aW9uIS5kaXZpc2lvbnMuZ2V0KGRpdmlzaW9uTmFtZSkhLm9mZmljZXMpO1xuICAgIGZvciAoY29uc3Qgb2ZmaWNlIG9mIG9mZmljZXMpIHtcbiAgICAgICAgb2ZmaWNlLnNpemUgPSBzaXplO1xuICAgICAgICBvZmZpY2UubnVtRW1wbG95ZWVzID0gc2l6ZTtcbiAgICAgICAgb2ZmaWNlLmVtcGxveWVlTmV4dEpvYnNbRW1wbG95ZWVQb3NpdGlvbi5PUEVSQVRJT05TXSA9IGVtcGxveWVlSm9ic1swXTtcbiAgICAgICAgb2ZmaWNlLmVtcGxveWVlTmV4dEpvYnNbRW1wbG95ZWVQb3NpdGlvbi5FTkdJTkVFUl0gPSBlbXBsb3llZUpvYnNbMV07XG4gICAgICAgIG9mZmljZS5lbXBsb3llZU5leHRKb2JzW0VtcGxveWVlUG9zaXRpb24uQlVTSU5FU1NdID0gZW1wbG95ZWVKb2JzWzJdO1xuICAgICAgICBvZmZpY2UuZW1wbG95ZWVOZXh0Sm9ic1tFbXBsb3llZVBvc2l0aW9uLk1BTkFHRU1FTlRdID0gZW1wbG95ZWVKb2JzWzNdO1xuICAgICAgICBvZmZpY2UuZW1wbG95ZWVOZXh0Sm9ic1tFbXBsb3llZVBvc2l0aW9uLlJFU0VBUkNIX0RFVkVMT1BNRU5UXSA9IGVtcGxveWVlSm9ic1s0XTtcbiAgICAgICAgb2ZmaWNlLmVtcGxveWVlTmV4dEpvYnNbRW1wbG95ZWVQb3NpdGlvbi5JTlRFUk5dID0gMDtcbiAgICAgICAgb2ZmaWNlLmVtcGxveWVlTmV4dEpvYnNbRW1wbG95ZWVQb3NpdGlvbi5VTkFTU0lHTkVEXSA9IDA7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0V2FyZWhvdXNlTGV2ZWwoZGl2aXNpb25OYW1lOiBzdHJpbmcsIGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIWlzVGVzdGluZ1Rvb2xzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaXZpc2lvbiA9IFBsYXllci5jb3Jwb3JhdGlvbiEuZGl2aXNpb25zLmdldChkaXZpc2lvbk5hbWUpITtcbiAgICBjb25zdCB3YXJlaG91c2VzID0gT2JqZWN0LnZhbHVlcyhkaXZpc2lvbi53YXJlaG91c2VzKTtcbiAgICBmb3IgKGNvbnN0IHdhcmVob3VzZSBvZiB3YXJlaG91c2VzKSB7XG4gICAgICAgIHdhcmVob3VzZS5sZXZlbCA9IGxldmVsO1xuICAgICAgICB3YXJlaG91c2UudXBkYXRlU2l6ZShQbGF5ZXIuY29ycG9yYXRpb24hLCBkaXZpc2lvbik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Qm9vc3RNYXRlcmlhbHMoZGl2aXNpb25OYW1lOiBzdHJpbmcsIGJvb3N0TWF0ZXJpYWxzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGlmICghaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdhcmVob3VzZXMgPSBPYmplY3QudmFsdWVzKFBsYXllci5jb3Jwb3JhdGlvbiEuZGl2aXNpb25zLmdldChkaXZpc2lvbk5hbWUpIS53YXJlaG91c2VzKTtcbiAgICBmb3IgKGNvbnN0IHdhcmVob3VzZSBvZiB3YXJlaG91c2VzKSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFscyA9IE9iamVjdC52YWx1ZXMod2FyZWhvdXNlLm1hdGVyaWFscyk7XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgbWF0ZXJpYWxzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1hdGVyaWFsLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsTmFtZS5BSV9DT1JFUzpcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3RvcmVkID0gYm9vc3RNYXRlcmlhbHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxOYW1lLkhBUkRXQVJFOlxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5zdG9yZWQgPSBib29zdE1hdGVyaWFsc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbE5hbWUuUkVBTF9FU1RBVEU6XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnN0b3JlZCA9IGJvb3N0TWF0ZXJpYWxzWzJdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVyaWFsTmFtZS5ST0JPVFM6XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnN0b3JlZCA9IGJvb3N0TWF0ZXJpYWxzWzNdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWF0ZXJpYWxzKFxuICAgIGRpdmlzaW9uTmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgaW5wdXQ6IGJvb2xlYW47XG4gICAgICAgIG91dHB1dDogYm9vbGVhbjtcbiAgICB9XG4pOiB2b2lkIHtcbiAgICBpZiAoIWlzVGVzdGluZ1Rvb2xzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaXZpc2lvbiA9IFBsYXllci5jb3Jwb3JhdGlvbiEuZGl2aXNpb25zLmdldChkaXZpc2lvbk5hbWUpITtcbiAgICBjb25zdCByZXF1aXJlZE1hdGVyaWFscyA9IE9iamVjdC5rZXlzKGRpdmlzaW9uLnJlcXVpcmVkTWF0ZXJpYWxzKTtcbiAgICBjb25zdCBwcm9kdWNlZE1hdGVyaWFscyA9IGRpdmlzaW9uLnByb2R1Y2VkTWF0ZXJpYWxzO1xuICAgIGNvbnN0IHdhcmVob3VzZXMgPSBPYmplY3QudmFsdWVzKGRpdmlzaW9uLndhcmVob3VzZXMpO1xuICAgIGZvciAoY29uc3Qgd2FyZWhvdXNlIG9mIHdhcmVob3VzZXMpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxzID0gT2JqZWN0LnZhbHVlcyh3YXJlaG91c2UubWF0ZXJpYWxzKTtcbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiBtYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucy5pbnB1dCAmJiByZXF1aXJlZE1hdGVyaWFscy5pbmNsdWRlcyhtYXRlcmlhbC5uYW1lKSlcbiAgICAgICAgICAgICAgICB8fCAob3B0aW9ucy5vdXRwdXQgJiYgcHJvZHVjZWRNYXRlcmlhbHMuaW5jbHVkZXMobWF0ZXJpYWwubmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3RvcmVkID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEVuZXJneUFuZE1vcmFsZShkaXZpc2lvbk5hbWU6IHN0cmluZywgZW5lcmd5OiBudW1iZXIsIG1vcmFsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFpc1Rlc3RpbmdUb29sc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaXR5IG9mIGNpdGllcykge1xuICAgICAgICBQbGF5ZXIuY29ycG9yYXRpb24hLmRpdmlzaW9ucy5nZXQoZGl2aXNpb25OYW1lKSEub2ZmaWNlc1tjaXR5XSEuYXZnRW5lcmd5ID0gZW5lcmd5O1xuICAgICAgICBQbGF5ZXIuY29ycG9yYXRpb24hLmRpdmlzaW9ucy5nZXQoZGl2aXNpb25OYW1lKSEub2ZmaWNlc1tjaXR5XSEuYXZnTW9yYWxlID0gbW9yYWxlO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlc2VhcmNoKGRpdmlzaW9uTmFtZTogc3RyaW5nLCByZXNlYXJjaE5hbWU6IFJlc2VhcmNoTmFtZSk6IHZvaWQge1xuICAgIGlmICghaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFBsYXllci5jb3Jwb3JhdGlvbiEuZGl2aXNpb25zLmdldChkaXZpc2lvbk5hbWUpIS5yZXNlYXJjaGVkLmFkZChyZXNlYXJjaE5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRSTkdEYXRhKCkge1xuICAgIGlmICghaXNUZXN0aW5nVG9vbHNBdmFpbGFibGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgW18sIGRpdmlzaW9uXSBvZiBQbGF5ZXIuY29ycG9yYXRpb24hLmRpdmlzaW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IFtfLCBvZmZpY2VdIG9mIE9iamVjdC5lbnRyaWVzKGRpdmlzaW9uLm9mZmljZXMpKSB7XG4gICAgICAgICAgICBvZmZpY2UuYXZnSW50ZWxsaWdlbmNlID0gNzU7XG4gICAgICAgICAgICBvZmZpY2UuYXZnQ2hhcmlzbWEgPSA3NTtcbiAgICAgICAgICAgIG9mZmljZS5hdmdDcmVhdGl2aXR5ID0gNzU7XG4gICAgICAgICAgICBvZmZpY2UuYXZnRWZmaWNpZW5jeSA9IDc1O1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW18sIHdhcmVob3VzZV0gb2YgT2JqZWN0LmVudHJpZXMoZGl2aXNpb24ud2FyZWhvdXNlcykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW18sIG1hdGVyaWFsXSBvZiBPYmplY3QuZW50cmllcyh3YXJlaG91c2UubWF0ZXJpYWxzKSkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRlbWFuZCA9IENvcnBNYXRlcmlhbHNEYXRhW21hdGVyaWFsLm5hbWVdLmRlbWFuZEJhc2U7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuY29tcGV0aXRpb24gPSBDb3JwTWF0ZXJpYWxzRGF0YVttYXRlcmlhbC5uYW1lXS5jb21wZXRpdGlvbkJhc2U7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwubWFya2V0UHJpY2UgPSBDb3JwTWF0ZXJpYWxzRGF0YVttYXRlcmlhbC5uYW1lXS5iYXNlQ29zdDtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5hdmVyYWdlUHJpY2UgPSBDb3JwTWF0ZXJpYWxzRGF0YVttYXRlcmlhbC5uYW1lXS5iYXNlQ29zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLFNBQVMsY0FBYztBQUN2QixTQUFtQixrQkFBa0IsY0FBNEIsbUJBQW1CO0FBQ3BGLFNBQVMsd0JBQXVDO0FBQ2hELFNBQVMsd0JBQXdCO0FBQ2pDLFNBQVMseUJBQXlCO0FBc0dsQyxNQUFNLHFCQUFxQjtBQUUzQixlQUFzQixpQkFBMEM7QUFDNUQsU0FBTyxJQUFJLFFBQVEsQ0FBQyxTQUFTLFdBQVc7QUFDcEMsVUFBTSxVQUFVLE9BQU8sVUFBVSxLQUFLLGlCQUFpQixDQUFDO0FBQ3hELFlBQVEsVUFBVSxNQUFNO0FBQ3BCLGNBQVEsTUFBTSx5REFBeUQsUUFBUSxNQUFNO0FBQ3JGLGFBQU8sOENBQThDO0FBQUEsSUFDekQ7QUFDQSxZQUFRLFlBQVksV0FBeUM7QUFDekQsWUFBTSxLQUFLLEtBQUs7QUFDaEIsWUFBTSxjQUFjLEdB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
